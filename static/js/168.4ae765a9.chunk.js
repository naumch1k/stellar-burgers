"use strict";(self.webpackChunkstellar_burgers=self.webpackChunkstellar_burgers||[]).push([[168],{1873:function(e,t,n){n.r(t),n.d(t,{default:function(){return xe}});var r=n(5287),s=n(6401),i=n(9439),c=n(2791),a=n(335),l=n(9434),o=n(9856),d=n(1413),u=n(1067),m=n(6814),_="Modal_root__z7+I3",x="Modal_isOpen__zYv3o",p="Modal_container__Ha+Ky",h="Modal_closeButton__Ya+Ev",f=n(184),g=function(e){var t=e.isOpen,n=e.onClose,r=e.children;return(0,f.jsx)("div",{className:"".concat(_," ").concat(t?"".concat(x):""),children:(0,f.jsxs)("div",{className:p,children:[r,(0,f.jsx)("button",{className:h,type:"button","aria-label":"Close modal",onClick:n,children:(0,f.jsx)(m.Tw,{type:"primary"})})]})})},j="NutritionFacts_root__RjsFs",N="NutritionFacts_heading__3ISmc",v="NutritionFacts_image__p-fix",b="NutritionFacts_list__on7pF",y="NutritionFacts_listItem__ffIlj",C=function(e){var t=e.name,n=e.calories,r=e.carbohydrates,s=e.fat,i=e.proteins,c=e.image_large,a="mb-2 text text_type_main-default text_color_inactive",l="mb-2 text text_type_digits-default text_color_inactive";return(0,f.jsxs)("div",{className:"".concat(j," pt-10 pr-10 pb-15 pl-10"),children:[(0,f.jsx)("h2",{className:"".concat(N," mt-4 mb-4 text text_type_main-large"),children:"Nutrition Facts"}),(0,f.jsx)("img",{className:v,src:c,alt:t}),(0,f.jsx)("p",{className:"mt-4 mb-8 text text_type_main-medium",children:t}),(0,f.jsxs)("dl",{className:b,children:[(0,f.jsxs)("div",{className:y,children:[(0,f.jsx)("dt",{className:a,children:"Calories"}),(0,f.jsx)("dd",{className:l,children:n})]}),(0,f.jsxs)("div",{className:y,children:[(0,f.jsx)("dt",{className:a,children:"Total Carb."}),(0,f.jsx)("dd",{className:l,children:r})]}),(0,f.jsxs)("div",{className:y,children:[(0,f.jsx)("dt",{className:a,children:"Total Fat"}),(0,f.jsx)("dd",{className:l,children:s})]}),(0,f.jsxs)("div",{className:y,children:[(0,f.jsx)("dt",{className:a,children:"Protein"}),(0,f.jsx)("dd",{className:l,children:i})]})]})]})},I=n(1834),B=n(8813),k="Ingredient_root__Zh74E",F="Ingredient_beingDragged__pJKPQ",R="Ingredient_name__bUorL",Z="Ingredient_price__CIEQs",M=function(e){var t=e.id,n=(0,l.v9)((function(e){return(0,I.Vt)(e,t)})),r=n,s=r.name,a=r.image,o=r.price,_=(0,l.v9)((function(e){return(0,B.N0)(e,t)})),x=(0,c.useState)(!1),p=(0,i.Z)(x,2),h=p[0],j=p[1],N=(0,u.c)({type:"ingredient",item:n,collect:function(e){return{beingDragged:e.isDragging()}}}),v=(0,i.Z)(N,2),b=v[0].beingDragged,y=v[1];return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("li",{ref:y,className:"".concat(k," ").concat(b?"".concat(F):""),onClick:function(){j(!0)},children:[(0,f.jsx)("img",{className:"mr-4 ml-4",src:a,alt:s}),(0,f.jsxs)("div",{className:"pt-2",children:[(0,f.jsxs)("p",{className:"".concat(Z," text text_type_digits-default"),children:[(0,f.jsx)("span",{className:"mr-2",children:o}),(0,f.jsx)(m.rm,{type:"primary"})]}),(0,f.jsx)("p",{className:"".concat(R," text text_type_main-default mt-2"),children:s})]}),_>0&&(0,f.jsx)(m.AT,{count:_,size:"default"})]}),h&&(0,f.jsx)(g,{isOpen:h,onClose:function(){return j(!1)},children:(0,f.jsx)(C,(0,d.Z)({},n))})]})},D="IngredientList_root__1m0nr",T=function(e){var t=e.ingredientIds;return(0,f.jsx)("ul",{className:"".concat(D," pr-4 pb-10 pl-4"),children:t.map((function(e){return(0,f.jsx)(M,{id:e},e)}))})},O=n(928),S=(0,c.forwardRef)((function(e,t){var n=e.type,r=(0,l.v9)(I.pT),s=(0,l.v9)((function(e){return(0,I.e2)(e,n)}));return r?(0,f.jsx)(o.a,{}):(0,f.jsxs)("li",{children:[(0,f.jsx)("h2",{ref:t,className:"text text_type_main-medium mb-6",children:(0,O.f)(n)}),(0,f.jsx)(T,{ingredientIds:s})]})})),w="BUNS",H="BurgerIngredients_tabBar__jn4fI",P="BurgerIngredients_menu__X3WWl",E=w,L="BURGERS",Y="TOPPINGS",z=function(){var e=(0,c.useState)(w),t=(0,i.Z)(e,2),n=t[0],r=t[1],s=(0,c.useRef)(null),l=(0,c.useRef)(null),o=(0,c.useRef)(null),d=(0,c.useRef)(null),u=function(e){e.current&&e.current.scrollIntoView({behavior:"smooth"})},m=function(e){switch(e){case E:u(l);break;case L:u(o);break;case Y:u(d)}};return(0,f.jsxs)("section",{className:"mt-10",children:[(0,f.jsx)("h1",{className:"text text_type_main-large",children:"Build Your Own Burger"}),(0,f.jsx)("ul",{className:"".concat(H," mt-5"),children:[E,L,Y].map((function(e){return(0,f.jsx)("li",{children:(0,f.jsx)(a.Tab,{active:n===e,value:e,onClick:m,children:(0,O.f)(e)})},e)}))}),(0,f.jsxs)("ul",{className:"".concat(P," custom-scroll"),ref:s,onScroll:function(){var e,t=null===(e=s.current)||void 0===e?void 0:e.getBoundingClientRect().y,n=Math.abs(l.current.getBoundingClientRect().y-t),i=Math.abs(o.current.getBoundingClientRect().y-t),c=Math.abs(d.current.getBoundingClientRect().y-t);n<i&&n<c&&r(E),i<n&&i<c&&r(L),c<n&&c<i&&r(Y)},children:[(0,f.jsx)(S,{type:"bun",ref:l}),(0,f.jsx)(S,{type:"burger",ref:o}),(0,f.jsx)(S,{type:"topping",ref:d})]})]})},A=n(3433),J=n(8422),U="BunElement_root__P2lJ4",V=function(e){var t=e.type,n=(0,l.v9)(B.M0);return(0,f.jsx)("div",{className:"".concat(U," ml-8 pr-4"),children:(0,f.jsx)(m.DY,{type:t,text:n?"".concat(n.name," ").concat("top"===t?"(top)":"(bottom)"):"Choose your bun",price:n?n.price:0,thumbnail:n?n.image:"https://stellarburgers.nomoreparties.site/static/media/loading.89540200.svg",isLocked:!0})})},W=n(2942),G=n(3006),Q=n(8684),K="FillingElement_root__FytXY",X="FillingElement_isHovered__BcHD9",q=function(e){var t=e.index,n=e.ingredient,r=(0,G.T)(),s=n.name,a=n.price,l=n.image,o=(0,u.c)({type:"addedIngredient",item:function(){return{index:t}}}),d=(0,i.Z)(o,2)[1],_=(0,J.L)({accept:"addedIngredient",collect:function(e){return{isHovered:e.isOver()}},drop:function(e){e.index!==t&&r((0,Q.Dk)({fromIndex:e.index,toIndex:t}))}}),x=(0,i.Z)(_,2),p=x[0].isHovered,h=x[1],g=(0,c.useRef)(null);return d(h(g)),(0,f.jsxs)("li",{ref:g,className:"".concat(K," ").concat(p?"".concat(X):""," mt-4 mb-4"),children:[(0,f.jsx)(W.DragIcon,{type:"primary"}),(0,f.jsx)(m.DY,{text:s,thumbnail:l,price:a,handleClose:function(){return r((0,Q.sr)(t))}})]})},$=n(728),ee=function(e){return e.order},te=function(e){return e.order.number},ne=n.p+"static/media/success.ffd5c56d9db3cece5522.png",re="OrderConfirmation_root__25rwU",se="OrderConfirmation_orderNumber__h5AyN",ie=function(){var e=(0,l.v9)(te);return(0,f.jsxs)("div",{className:"".concat(re," pt-25 pr-10 pb-25 pl-10"),children:[(0,f.jsx)("span",{className:"mb-8 text text_type_main-medium",children:"Your order number is"}),(0,f.jsx)("h2",{className:"".concat(se," text text_type_digits-large"),children:e}),(0,f.jsx)("img",{className:"mt-15 mb-15",src:ne,alt:"Success icon"}),(0,f.jsx)("p",{className:"mb-2 text text_type_main-default",children:"your order is being prepared"}),(0,f.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:"be ready to pick it up at the orbital station"})]})},ce=n(5891),ae="BurgerConstructor_root__fVIgZ",le="BurgerConstructor_isHovered__i8Ijv",oe="BurgerConstructor_list__kWLPi",de="BurgerConstructor_submitGroup__5hVZf",ue="BurgerConstructor_submitButton__9Jl+A",me=function(){var e=(0,G.T)(),t=(0,l.v9)(B.M0),n=(0,l.v9)(B.NI),r=(0,l.v9)(ee).isFetching,s=(0,c.useState)(!1),a=(0,i.Z)(s,2),d=a[0],u=a[1],_=(0,J.L)({accept:"ingredient",collect:function(e){return{isHovered:e.isOver()}},drop:function(e){j(e)}}),x=(0,i.Z)(_,2),p=x[0].isHovered,h=x[1],j=function(t){"bun"===t.type?e((0,Q.zL)(t)):e((0,Q.TZ)(t))},N=(0,c.useMemo)((function(){return t?2*t.price:0}),[t])+(0,c.useMemo)((function(){return n.reduce((function(e,t){return e+t.price}),0)}),[n]);return(0,f.jsxs)("section",{className:"".concat(ae," pt-25 pb-10"),children:[(0,f.jsxs)("div",{ref:h,className:p?"".concat(le):"",children:[(0,f.jsx)(V,{type:"top"}),(0,f.jsx)("ul",{className:"".concat(oe," custom-scroll"),children:n.map((function(e,t){return(0,f.jsx)(q,{index:t,ingredient:e},t)}))}),(0,f.jsx)(V,{type:"bottom"})]}),(0,f.jsxs)("div",{className:"".concat(de," mt-10 pr-4 pl-4"),children:[(0,f.jsxs)("span",{className:"text text_type_digits-medium mr-10",children:[N," ",(0,f.jsx)(m.rm,{type:"primary"})]}),(0,f.jsxs)("div",{className:ue,children:[(0,f.jsx)($.Button,{type:"primary",size:"large",htmlType:"button",onClick:function(){if(t&&n.length){var r=[t].concat((0,A.Z)(n),[t]).map((function(e){return e._id}));e((0,ce.D)({ingredients:r})).then((function(){return u(!0)}))}},disabled:!t||!n.length,children:"Place an order"}),r&&(0,f.jsx)(o.a,{})]})]}),d&&(0,f.jsx)(g,{isOpen:d,onClose:function(){e((0,ce.Q)()),e((0,Q.R5)()),u(!1)},children:(0,f.jsx)(ie,{})})]})},_e="BurgerBuilder_root__M-A1J",xe=function(){return(0,f.jsx)("div",{className:_e,children:(0,f.jsxs)(r.W,{backend:s.PD,children:[(0,f.jsx)(z,{}),(0,f.jsx)(me,{})]})})}}}]);
//# sourceMappingURL=168.4ae765a9.chunk.js.map