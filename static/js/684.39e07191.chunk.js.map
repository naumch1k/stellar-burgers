{"version":3,"file":"static/js/684.39e07191.chunk.js","mappings":"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","sources":["webpack://stellar-burgers/./src/components/AuthLink/AuthLink.module.css?b3e1","components/AuthLink/AuthLink.tsx","webpack://stellar-burgers/./src/components/AuthPageLayout/AuthPageLayout.module.css?ad87","webpack://stellar-burgers/./src/components/AuthPageLayout/Links/AuthPageLayoutLinks.module.css?111a","components/AuthPageLayout/index.ts","components/AuthPageLayout/AuthPageLayout.tsx","components/AuthPageLayout/Links/AuthPageLayoutLinks.tsx","components/AuthPageTitle/AuthPageTitle.tsx","pages/Login/Login.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"link\":\"AuthLink_link__p1gFc\"};","import { Link } from 'react-router-dom'\nimport styles from './AuthLink.module.css'\n\ninterface IAuthLinkProps {\n  leadInText: string;\n  linkText: string;\n  to: string;\n}\n\nexport const AuthLink = (props: IAuthLinkProps) => {\n  const { leadInText, linkText, to } = props\n\n  return (\n    <p className={'text text_type_main-default text_color_inactive'}>{leadInText}\n    {' '}<Link className={styles.link} to={to}>{linkText}</Link>\n  </p>\n  )\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"AuthPageLayout_root__Cw3I6\"};","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"AuthPageLayoutLinks_root__BOXWr\"};","import { AuthPageLayout as Component } from './AuthPageLayout'\nimport { AuthPageLayoutLinks } from './Links'\n\nexport const AuthPageLayout = Object.assign(Component, {\n  Links: AuthPageLayoutLinks,\n})\n","import { ReactNode } from 'react'\nimport styles from './AuthPageLayout.module.css'\n\ninterface IAuthPageLayoutProps {\n  children: ReactNode;\n}\n\nexport const AuthPageLayout = (props: IAuthPageLayoutProps) => {\n  const { children } = props\n\n  return (\n    <div className={styles.root}>\n      {children}\n    </div>\n  )\n}\n","import { ReactNode } from 'react'\nimport styles from './AuthPageLayoutLinks.module.css'\n\ninterface IAuthPageLayoutLinksProps {\n  children: ReactNode;\n}\n\nexport const AuthPageLayoutLinks = (props: IAuthPageLayoutLinksProps) => {\n  const { children } = props\n\n  return (\n    <div className={styles.root}>\n      {children}\n    </div>\n  )\n}\n","interface IAuthPageTitleProps {\n  title: string;\n}\n\nexport const AuthPageTitle = (props: IAuthPageTitleProps) => {\n  const { title } = props\n\n  return (\n    <h2 className='text text_type_main-medium mb-6'>{title}</h2>\n  )\n}\n","import { useState, useEffect } from 'react'\nimport { useNavigate } from 'react-router-dom'\nimport { useSelector } from 'react-redux'\nimport { Input, Button } from '@ya.praktikum/react-developer-burger-ui-components'\nimport { AuthPageLayout } from '../../components/AuthPageLayout'\nimport { AuthPageTitle } from '../../components/AuthPageTitle'\nimport { Form } from '../../components/Form'\nimport { AuthLink } from '../../components/AuthLink'\nimport { selectAuthState } from '../../store/auth/selectors'\nimport useFormWithValidation from '../../hooks/useFormWithValidation'\nimport { useAppDispatch } from '../../store/store'\nimport { loginRequest } from '../../store/auth/operations'\nimport { CustomValidationMessages } from '../../shared/constants/custom-validation-messages'\n\nconst initialFormValues = {\n  email: '',\n  password: '',\n}\n\nconst Login = () => {\n  const dispatch = useAppDispatch()\n  const navigate = useNavigate()\n    const {\n    values,\n    errors,\n    isValid,\n    handleChange,\n  } = useFormWithValidation(initialFormValues)\n\n  const [isPasswordHidden, setIsPasswordHidden] = useState(true)\n\n  const { isFetching, isAuthenticated, error } = useSelector(selectAuthState)\n\n  useEffect(() => {\n    if (isAuthenticated) navigate('/')\n  }, [isAuthenticated, navigate])\n\n  const handleSubmit = (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault()\n\n    dispatch(loginRequest({\n      email: values.email,\n      password: values.password,\n    }))\n  }\n\n  return (\n    <AuthPageLayout>\n      <AuthPageTitle title='Log in'/>\n      <Form onSubmit={handleSubmit}>\n        <Input\n          value={values.email}\n          name='email'\n          type='email'\n          placeholder='E-mail'\n          error={!!errors.email}\n          errorText={CustomValidationMessages.EMAIL_ERROR}\n          onChange={handleChange}\n          required\n        />\n        <Input\n          value={values.password}\n          name='password'\n          type={isPasswordHidden ? 'password' : 'text'}\n          placeholder='Password'\n          error={!!errors.password}\n          errorText={CustomValidationMessages.PASSWORD_ERROR}\n          icon={isPasswordHidden ? 'ShowIcon' : 'HideIcon'}\n          onIconClick={() => setIsPasswordHidden(!isPasswordHidden)}\n          onChange={handleChange}\n          minLength={8}\n          required\n        />\n        <Form.SubmitButton isFetching={isFetching}>\n          <Button\n            htmlType='submit'\n            type='primary'\n            size='medium'\n            disabled={isFetching || !isValid}\n          >\n            Log in\n          </Button>\n        </Form.SubmitButton>\n        <Form.Error>\n          {error}\n        </Form.Error>\n      </Form>\n      <AuthPageLayout.Links>\n        <AuthLink\n          leadInText='Not a member yet?'\n          linkText='Sign up here!'\n          to='/register'\n        />\n        <AuthLink\n          leadInText='Forgot your password?'\n          linkText='Reset your password'\n          to='/forgot-password'\n        />\n      </AuthPageLayout.Links>\n    </AuthPageLayout>\n  )\n}\n\nexport default Login\n"],"names":["AuthLink","props","leadInText","linkText","to","_jsxs","className","children","_jsx","Link","styles","AuthPageLayout","Object","assign","Links","AuthPageTitle","title","initialFormValues","email","password","dispatch","useAppDispatch","navigate","useNavigate","_useFormWithValidatio","useFormWithValidation","values","errors","isValid","handleChange","_useState","useState","_useState2","_slicedToArray","isPasswordHidden","setIsPasswordHidden","_useSelector","useSelector","selectAuthState","isFetching","isAuthenticated","error","useEffect","Form","onSubmit","e","preventDefault","loginRequest","Input","value","name","type","placeholder","errorText","CustomValidationMessages","onChange","required","icon","onIconClick","minLength","Button","htmlType","size","disabled"],"sourceRoot":""}