{"version":3,"file":"static/js/55.5e740b53.chunk.js","mappings":"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","sources":["webpack://stellar-burgers/./src/components/AuthLink/AuthLink.module.css?b3e1","components/AuthLink/AuthLink.tsx","webpack://stellar-burgers/./src/components/AuthPageLayout/AuthPageLayout.module.css?ad87","webpack://stellar-burgers/./src/components/AuthPageLayout/Links/AuthPageLayoutLinks.module.css?111a","components/AuthPageLayout/index.ts","components/AuthPageLayout/AuthPageLayout.tsx","components/AuthPageLayout/Links/AuthPageLayoutLinks.tsx","components/AuthPageTitle/AuthPageTitle.tsx","pages/ResetPassword/ResetPassword.tsx","pages/ResetPassword/index.ts"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"link\":\"AuthLink_link__p1gFc\"};","import { Link } from 'react-router-dom'\nimport styles from './AuthLink.module.css'\n\ninterface IAuthLinkProps {\n  leadInText: string;\n  linkText: string;\n  to: string;\n}\n\nexport const AuthLink = (props: IAuthLinkProps) => {\n  const { leadInText, linkText, to } = props\n\n  return (\n    <p className={'text text_type_main-default text_color_inactive'}>{leadInText}\n    {' '}<Link className={styles.link} to={to}>{linkText}</Link>\n  </p>\n  )\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"AuthPageLayout_root__Cw3I6\"};","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"AuthPageLayoutLinks_root__BOXWr\"};","import { AuthPageLayout as Component } from './AuthPageLayout'\nimport { AuthPageLayoutLinks } from './Links'\n\nexport const AuthPageLayout = Object.assign(Component, {\n  Links: AuthPageLayoutLinks,\n})\n","import { ReactNode } from 'react'\nimport styles from './AuthPageLayout.module.css'\n\ninterface IAuthPageLayoutProps {\n  children: ReactNode;\n}\n\nexport const AuthPageLayout = (props: IAuthPageLayoutProps) => {\n  const { children } = props\n\n  return (\n    <div className={styles.root}>\n      {children}\n    </div>\n  )\n}\n","import { ReactNode } from 'react'\nimport styles from './AuthPageLayoutLinks.module.css'\n\ninterface IAuthPageLayoutLinksProps {\n  children: ReactNode;\n}\n\nexport const AuthPageLayoutLinks = (props: IAuthPageLayoutLinksProps) => {\n  const { children } = props\n\n  return (\n    <div className={styles.root}>\n      {children}\n    </div>\n  )\n}\n","interface IAuthPageTitleProps {\n  title: string;\n}\n\nexport const AuthPageTitle = (props: IAuthPageTitleProps) => {\n  const { title } = props\n\n  return (\n    <h2 className='text text_type_main-medium mb-6'>{title}</h2>\n  )\n}\n","import { useState, useEffect } from 'react'\nimport { useNavigate } from 'react-router-dom'\nimport { useSelector } from 'react-redux'\nimport { Input, Button } from '@ya.praktikum/react-developer-burger-ui-components'\nimport { AuthPageLayout } from '../../components/AuthPageLayout'\nimport { AuthPageTitle } from '../../components/AuthPageTitle'\nimport { Form } from '../../components/Form'\nimport { AuthLink } from '../../components/AuthLink'\nimport { selectAuthState } from '../../store/auth/selectors'\nimport useFormWithValidation from '../../hooks/useFormWithValidation'\nimport { CustomValidationMessages } from '../../shared/constants/custom-validation-messages'\nimport { useAppDispatch } from '../../store/store'\nimport { passwordResetRequest } from '../../store/auth/operations'\n\nconst initialFormValues = {\n  password: '',\n  token: '',\n}\n\nconst ResetPassword = () => {\n  const dispatch = useAppDispatch()\n  const navigate = useNavigate()\n  const {\n    values,\n    errors,\n    isValid,\n    handleChange,\n  } = useFormWithValidation(initialFormValues)\n\n  const { isFetching, error, isResettingPassword } = useSelector(selectAuthState)\n\n  const [isPasswordHidden, setIsPasswordHidden] = useState(true)\n\n  useEffect(() => {\n    if (!isFetching && !isResettingPassword) navigate('/login')\n  }, [isFetching, isResettingPassword, navigate])\n\n  const handleSubmit = (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault()\n\n    dispatch(passwordResetRequest({\n      password: values.password,\n      token: values.token,\n    }))\n  }\n\n  return (\n    <AuthPageLayout>\n      <AuthPageTitle title='Create a new password'/>\n      <Form onSubmit={handleSubmit}>\n        <Input\n          value={values.password}\n          name='password'\n          type={isPasswordHidden ? 'password' : 'text'}\n          placeholder='Password'\n          error={!!errors.password}\n          errorText={CustomValidationMessages.PASSWORD_ERROR}\n          icon={isPasswordHidden ? 'ShowIcon' : 'HideIcon'}\n          onIconClick={() => setIsPasswordHidden(!isPasswordHidden)}\n          onChange={handleChange}\n          minLength={8}\n          required\n        />\n        <Input\n          value={values.token}\n          name='token'\n          type='text'\n          placeholder='Enter verification code'\n          error={!!errors.token}\n          errorText={CustomValidationMessages.CODE_ERROR}\n          onChange={handleChange}\n          required\n        />\n        <Form.SubmitButton isFetching={isFetching}>\n          <Button\n            htmlType='submit'\n            type='primary'\n            size='medium'\n            disabled={!isValid}\n          >\n            Save new password\n          </Button>\n        </Form.SubmitButton>\n        <Form.Error>\n          {error}\n        </Form.Error>\n      </Form>\n      <AuthPageLayout.Links>\n        <AuthLink\n          leadInText='Remembered the password?'\n          linkText='Log in here'\n          to='/login'\n        />\n      </AuthPageLayout.Links>\n    </AuthPageLayout>\n  )\n}\n\nexport default ResetPassword\n","import ResetPassword from './ResetPassword'\n\nexport default ResetPassword\n"],"names":["AuthLink","props","leadInText","linkText","to","_jsxs","className","children","_jsx","Link","styles","AuthPageLayout","Object","assign","Links","AuthPageTitle","title","initialFormValues","password","token","dispatch","useAppDispatch","navigate","useNavigate","_useFormWithValidatio","useFormWithValidation","values","errors","isValid","handleChange","_useSelector","useSelector","selectAuthState","isFetching","error","isResettingPassword","_useState","useState","_useState2","_slicedToArray","isPasswordHidden","setIsPasswordHidden","useEffect","Form","onSubmit","e","preventDefault","passwordResetRequest","Input","value","name","type","placeholder","errorText","CustomValidationMessages","icon","onIconClick","onChange","minLength","required","Button","htmlType","size","disabled"],"sourceRoot":""}